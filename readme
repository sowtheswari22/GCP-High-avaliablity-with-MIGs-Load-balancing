ğŸ§ª Hands-On Lab (Console UI Only)
ğŸ› ï¸ Step 1: Write Your Startup Script
#!/bin/bash
apt update
apt install -y nginx
echo "Welcome to MIG Demo - $(hostname)" > /var/www/html/index.html
Save this script as startup.sh on your local machine.

ğŸ› ï¸ Step 2: Create an Instance Template
Go to Compute Engine â†’ Instance templates
Click Create instance template
Set:
Name: web-template
Machine type: e2-micro
Boot disk: Debian or Ubuntu
Under Advanced options â†’ Automation â†’ Startup script:
Paste the contents of startup.sh
Add network tag: http-server
Click Create
ğŸ› ï¸ Step 3: Create a Managed Instance Group (MIG)
Go to Compute Engine â†’ Instance groups
Click Create instance group
Set:
Name: web-mig
Location: Multiple zones in us-central1
Select zones: us-central1-a, us-central1-b, us-central1-c
Instance template: web-template
Autoscaling: Enable (optional)
Number of instances: 3 (1 per zone)
Click Create
ğŸ› ï¸ Step 4: Allow HTTP Traffic via Firewall
Go to VPC network â†’ Firewall
Click Create firewall rule
Set:
Name: allow-http
Direction: Ingress
Targets: Tags
Target tag: http-server
Source IP ranges: 0.0.0.0/0
Protocols: Allow TCP port 80
Click Create
ğŸ› ï¸ Step 5: Create a Health Check
Go to Network services â†’ Health checks
Click Create a health check
Set:
Name: web-health-check
Protocol: HTTP
Port: 80
Click Create
ğŸ› ï¸ Step 6: Create Backend Service and Attach MIG
Go to Network services â†’ Load balancing
Click Create load balancer â†’ Start configuration
Choose:
HTTP(S) Load Balancer (From Internet to my VMs)
Set:
Name: web-lb
Backend configuration:
Create backend service
Add the MIG (web-mig)
Attach the health check (web-health-check)
Click Next
ğŸ› ï¸ Step 7: Configure URL Map and Frontend
In the same wizard:
Leave URL map as default
Frontend:
Protocol: HTTP
Port: 80
Create a new global IP (name it web-ip)
Click Create
ğŸ› ï¸ Step 8: Access the Load Balancer
Go to VPC â†’ External IP addresses
Look for the web-ip you reserved earlier
Open it in a browser â†’ You should see responses like:
Welcome to MIG Demo - web-xxxxx
ğŸ› ï¸ Step 9: Enable Backend Logging
Go to Network services â†’ Load balancing
Click into web-lb
Click Edit backend service
Enable:
Cloud Logging
Set sample rate: 1.0 (100%)
Save changes
To view logs:

Go to Logging â†’ Logs Explorer
Query:
resource.type="http_load_balancer"
